{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/clairelivingstone/Desktop/ratio-tracker/client/Home.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Clock from \"./Clock\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useFonts } from \"expo-font\";\nimport { calcRatio } from \"./calcRatio\";\nimport { Stats } from \"./Stats\";\nimport { Widgets } from \"./Widgets\";\nimport { StaffPanel } from \"./StaffPanel\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport UserService from \"./services/UserService\";\nimport AnimatedLoader from \"react-native-animated-loader\";\nexport var Home = function Home(props) {\n  var isFocused = useIsFocused();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      resetting = _useState4[0],\n      setResetting = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      refresh = _useState6[0],\n      setRefresh = _useState6[1];\n\n  var _useState7 = useState({\n    dateof: \"none\",\n    timeof: \"\",\n    numkook: 0,\n    numkang: 0,\n    numemu: 0,\n    numkoala: 0\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      info = _useState8[0],\n      setInfo = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      staffOnDuty = _useState10[0],\n      setStaffOnDuty = _useState10[1];\n\n  var _useFonts = useFonts({\n    mainFont: require(\"./assets/fonts/Roboto-Thin.ttf\")\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      fontLoaded = _useFonts2[0];\n\n  var getData = function getData() {\n    var jsonValue;\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"staffPicked\"));\n\n          case 3:\n            jsonValue = _context.sent;\n\n            if (!(jsonValue !== null)) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", JSON.parse(jsonValue));\n\n          case 8:\n            return _context.abrupt(\"return\", []);\n\n          case 9:\n            _context.next = 15;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n            return _context.abrupt(\"return\", _context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  useEffect(function () {\n    if (resetting) {\n      getData().then(function (res) {\n        console.log(res);\n        return;\n      }).catch(function (err) {\n        console.log(err);\n        return;\n      });\n    }\n\n    if (isFocused && refresh) {\n      setLoading(true);\n      setRefresh(false);\n      getData().then(function (val) {\n        setStaffOnDuty(val);\n        UserService.getClassData().then(function (res) {\n          setLoading(false);\n\n          if (!res.data[0]) {\n            return;\n          }\n\n          setInfo(res.data[0]);\n        }).catch(function (err) {\n          return setLoading(false);\n        });\n      }).catch(function (e) {\n        return setLoading(false);\n      });\n    }\n  }, [props, isFocused, resetting, refresh]);\n\n  var reset = function reset() {\n    var item, otherItem;\n    return _regeneratorRuntime.async(function reset$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setInfo({\n              dateof: \"none\",\n              timeof: \"\",\n              numkook: 0,\n              numkang: 0,\n              numemu: 0,\n              numkoala: 0\n            });\n            setStaffOnDuty([]);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"childrenCount\", \"\"));\n\n          case 5:\n            item = _context2.sent;\n            _context2.next = 8;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"staffPicked\", \"\"));\n\n          case 8:\n            otherItem = _context2.sent;\n            return _context2.abrupt(\"return\", item);\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](2);\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[2, 12]], Promise);\n  };\n\n  var staffNeeded = calcRatio(info.numkoala, info.numkook, info.numemu + info.numkang);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, loading && React.createElement(AnimatedLoader, {\n    visible: true,\n    overlayColor: \"rgba(255,255,255,0.75)\",\n    source: require(\"./StaffDirectory/loader.json\"),\n    animationStyle: styles.lottie,\n    speed: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }), React.createElement(View, {\n    style: styles.topPanel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: require(\"./assets/kindyLogo.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }), React.createElement(StaffPanel, {\n    staff: staffOnDuty,\n    navigate: props.navigation.navigate,\n    setStaffOnDuty: setStaffOnDuty,\n    staffNeeded: staffNeeded,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  })), React.createElement(Clock, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), React.createElement(Stats, {\n    info: info,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), React.createElement(Widgets, {\n    navigate: props.navigation.navigate,\n    setInfo: setInfo,\n    setRefresh: setRefresh,\n    info: info,\n    setResetting: setResetting,\n    staffOnDuty: staffOnDuty,\n    setStaffOnDuty: setStaffOnDuty,\n    reset: reset,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#f3f3f3\",\n    justifyContent: \"space-around\",\n    paddingLeft: \"2%\",\n    paddingRight: \"2%\",\n    paddingTop: \"3%\"\n  },\n  lottie: {\n    width: 100,\n    height: 100\n  },\n  topPanel: {\n    flex: 0.15,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: \"2%\"\n  },\n  text: {\n    fontFamily: \"mainFont\",\n    fontSize: 30,\n    marginBottom: \"5%\"\n  },\n  stat: {\n    flex: 1,\n    flexDirection: \"column\",\n    fontFamily: \"mainFont\"\n  },\n  widget: {\n    backgroundColor: \"#f8f8f8\",\n    width: \"30%\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    backgroundColor: \"white\",\n    borderRadius: 40,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 12\n    },\n    marginBottom: \"5%\",\n    shadowOpacity: 0.58,\n    shadowRadius: 16.0,\n    paddingLeft: \"2%\",\n    elevation: 24\n  }\n});","map":{"version":3,"sources":["/Users/clairelivingstone/Desktop/ratio-tracker/client/Home.js"],"names":["React","useState","useEffect","Clock","useFonts","calcRatio","Stats","Widgets","StaffPanel","AsyncStorage","useIsFocused","UserService","AnimatedLoader","Home","props","isFocused","loading","setLoading","resetting","setResetting","refresh","setRefresh","dateof","timeof","numkook","numkang","numemu","numkoala","info","setInfo","staffOnDuty","setStaffOnDuty","mainFont","require","fontLoaded","getData","getItem","jsonValue","JSON","parse","console","log","then","res","catch","err","val","getClassData","data","e","reset","setItem","item","otherItem","staffNeeded","styles","container","lottie","topPanel","navigation","navigate","StyleSheet","create","flex","backgroundColor","justifyContent","paddingLeft","paddingRight","paddingTop","width","height","flexDirection","text","fontFamily","fontSize","marginBottom","stat","widget","alignItems","textAlign","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Clock from \"./Clock\";\nimport { View, StyleSheet, Text, Image, ScrollView} from \"react-native\";\nimport { useFonts } from \"expo-font\";\nimport { calcRatio } from \"./calcRatio\";\nimport { Stats } from \"./Stats\";\nimport { Widgets } from \"./Widgets\";\nimport { StaffPanel } from \"./StaffPanel\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport UserService from \"./services/UserService\"\nimport AnimatedLoader from \"react-native-animated-loader\";\n\nexport const Home = (props) => {\n  const isFocused = useIsFocused();\n  const [loading, setLoading] = useState(false)\n  const [resetting, setResetting] = useState(false)\n  const [refresh, setRefresh] = useState(false)\n  const [info, setInfo] = useState(\n    {\n      dateof: \"none\",\n      timeof: \"\",\n      numkook: 0,\n      numkang: 0,\n      numemu: 0,\n      numkoala: 0,\n    },\n  );\n  const [staffOnDuty, setStaffOnDuty] = useState([]);\n  const [fontLoaded] = useFonts({\n    mainFont: require(\"./assets/fonts/Roboto-Thin.ttf\"),\n  });\n\n  const getData = async () => {\n    try {\n      let jsonValue = await AsyncStorage.getItem(\"staffPicked\");\n      if (jsonValue !== null) {\n        return JSON.parse(jsonValue);\n      } else {\n        return ([]);\n      }\n    } catch (e) {\n      console.log(e);\n      return e;\n    }\n  };\n\n  useEffect(() => {\n    if (resetting) {\n      getData().then(res=>{console.log(res); return}).catch(err=>{console.log(err); return})\n    }\n    if (isFocused && refresh) {\n      setLoading(true)\n      setRefresh(false)\n\n    getData()\n      .then((val) => {\n        setStaffOnDuty(val)\n    UserService.getClassData().then(res=>{\n      setLoading(false)\n      if (!res.data[0]) {\n        return;\n      }\n      setInfo(res.data[0])\n    }).catch(err=>setLoading(false))\n\n      })\n      .catch((e) => setLoading(false) );\n    }\n  }, [props, isFocused, resetting, refresh]);\n\n\n\n\n  const reset = async () => {\n    setInfo(\n      {\n        dateof: \"none\",\n        timeof: \"\",\n        numkook: 0,\n        numkang: 0,\n        numemu: 0,\n        numkoala: 0,\n      },\n    );\n    setStaffOnDuty([]);\n    try {\n      let item = await AsyncStorage.setItem(\"childrenCount\", \"\");\n      let otherItem = await AsyncStorage.setItem(\"staffPicked\", \"\");\n\n      return item;\n    }\n    catch (err) {\n      return err\n    }\n\n  };\n\n  const staffNeeded = calcRatio(\n    info.numkoala,\n    info.numkook,\n    info.numemu + info.numkang\n  );\n\n\nreturn (\n\n\n      <View style={styles.container}>\n          {loading && <AnimatedLoader\n    visible={true}\n    overlayColor=\"rgba(255,255,255,0.75)\"\n    source={require(\"./StaffDirectory/loader.json\")}\n    animationStyle={styles.lottie}\n    speed={1} /> }\n        <View style={styles.topPanel}>\n          <Image source={require(\"./assets/kindyLogo.png\")} />\n          <StaffPanel\n            staff={staffOnDuty}\n            navigate={props.navigation.navigate}\n            setStaffOnDuty={setStaffOnDuty}\n            staffNeeded={staffNeeded}\n          />\n        </View>\n        <Clock />\n        <Stats info={info} />\n        <Widgets\n          navigate={props.navigation.navigate}\n          setInfo={setInfo}\n          setRefresh={setRefresh}\n          info={info}\n          setResetting={setResetting}\n          staffOnDuty={staffOnDuty}\n          setStaffOnDuty={setStaffOnDuty}\n          reset={reset}\n        />\n      </View>\n    );\n\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#f3f3f3\",\n    justifyContent: \"space-around\",\n    paddingLeft: \"2%\",\n    paddingRight: \"2%\",\n    paddingTop: \"3%\",\n\n  },\n  lottie: {\n    width: 100,\n    height: 100\n  },\n  topPanel: {\n    flex: 0.15,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: \"2%\",\n  },\n  text: {\n    fontFamily: \"mainFont\",\n    fontSize: 30,\n    marginBottom: \"5%\",\n  },\n  stat: {\n    flex: 1,\n    flexDirection: \"column\",\n    fontFamily: \"mainFont\",\n  },\n  widget: {\n    backgroundColor: \"#f8f8f8\",\n    width: \"30%\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    backgroundColor: \"white\",\n    borderRadius: 40,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 12,\n    },\n    marginBottom: \"5%\",\n    shadowOpacity: 0.58,\n    shadowRadius: 16.0,\n    paddingLeft: \"2%\",\n    elevation: 24,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}
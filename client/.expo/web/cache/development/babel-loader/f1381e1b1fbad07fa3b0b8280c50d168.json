{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/clairelivingstone/Desktop/ratio-tracker/client/DataViewDate.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport UserService from \"./services/UserService\";\nimport moment from \"moment\";\nimport { DataChart } from \"./DataChart\";\nexport var DataViewDate = function DataViewDate(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mornTimes = _useState4[0],\n      setMornTimes = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mornCounts = _useState6[0],\n      setMornCounts = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      afternoonTimes = _useState8[0],\n      setAfternoonTimes = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      afternoonCounts = _useState10[0],\n      setAfternoonCounts = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      morn = _useState12[0],\n      setMorn = _useState12[1];\n\n  var toggleSwitch = function toggleSwitch() {\n    setMorn(!morn);\n  };\n\n  useEffect(function () {\n    setLoading(true);\n    var date = moment(props.date).format(\"YYYY-MM-DD\");\n    UserService.getClassDataOnDate(date).then(function (res) {\n      var info = res.data[0].rows;\n      var processedInfoMorning = [];\n      var processedInfoAfternoon = [];\n\n      for (var i = 0; i < info.length; i++) {\n        var currHour = moment(info[i].timeof, \"HH:mm:ss\").format(\"HH\");\n        var data = {\n          time: moment(info[i].timeof, \"HH:mm:ss\").format(\"hh:mm A\"),\n          numChildren: info[i].numemu + info[i].numkang + info[i].numkoala + info[i].numkook\n        };\n\n        if (currHour < 12) {\n          processedInfoMorning.push(data);\n        } else {\n          processedInfoAfternoon.push(data);\n        }\n      }\n\n      setMornTimes(processedInfoMorning.map(function (i) {\n        return i.time;\n      }));\n      setMornCounts(processedInfoMorning.map(function (i) {\n        return i.numChildren;\n      }));\n      setAfternoonTimes(processedInfoAfternoon.map(function (i) {\n        return i.time;\n      }));\n      setAfternoonCounts(processedInfoAfternoon.map(function (i) {\n        return i.numChildren;\n      }));\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, [props]);\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, \"Data for \", moment(props.date).format(\"dddd, MMMM Do YYYY\")), morn ? React.createElement(DataChart, {\n    x: mornTimes,\n    y: mornCounts,\n    title: \"Morning\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }) : React.createElement(DataChart, {\n    x: afternoonTimes,\n    y: afternoonCounts,\n    title: \"Afternoon\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }\n  }), React.createElement(Switch, {\n    trackColor: {\n      false: \"#767577\",\n      true: \"#81b0ff\"\n    },\n    thumbColor: \"#f5dd4b\",\n    ios_backgroundColor: \"#3e3e3e\",\n    onValueChange: toggleSwitch,\n    value: morn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 1\n    }\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#f3f3f3\",\n    justifyContent: \"space-around\",\n    paddingLeft: \"2%\",\n    paddingRight: \"2%\",\n    paddingTop: \"3%\"\n  },\n  titleText: {\n    fontFamily: \"mainFont\",\n    fontSize: 25,\n    marginBottom: \"2%\",\n    alignSelf: \"center\"\n  },\n  lottie: {\n    width: 100,\n    height: 100\n  },\n  topPanel: {\n    flex: 0.15,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: \"2%\"\n  },\n  text: {\n    fontFamily: \"mainFont\",\n    fontSize: 30,\n    marginBottom: \"5%\"\n  },\n  stat: {\n    flex: 1,\n    flexDirection: \"column\",\n    fontFamily: \"mainFont\"\n  },\n  widget: {\n    backgroundColor: \"#f8f8f8\",\n    width: \"30%\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    backgroundColor: \"white\",\n    borderRadius: 40,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 12\n    },\n    marginBottom: \"5%\",\n    shadowOpacity: 0.58,\n    shadowRadius: 16.0,\n    paddingLeft: \"2%\",\n    elevation: 24\n  }\n});","map":{"version":3,"sources":["/Users/clairelivingstone/Desktop/ratio-tracker/client/DataViewDate.js"],"names":["React","useState","useEffect","UserService","moment","DataChart","DataViewDate","props","loading","setLoading","mornTimes","setMornTimes","mornCounts","setMornCounts","afternoonTimes","setAfternoonTimes","afternoonCounts","setAfternoonCounts","morn","setMorn","toggleSwitch","date","format","getClassDataOnDate","then","res","info","data","rows","processedInfoMorning","processedInfoAfternoon","i","length","currHour","timeof","time","numChildren","numemu","numkang","numkoala","numkook","push","map","catch","err","console","log","styles","titleText","false","true","StyleSheet","create","container","flex","backgroundColor","justifyContent","paddingLeft","paddingRight","paddingTop","fontFamily","fontSize","marginBottom","alignSelf","lottie","width","height","topPanel","flexDirection","text","stat","widget","alignItems","textAlign","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  StyleSheet,\n  Button,\n  View,\n  Text,\n  Switch,\n} from \"react-native\";\nimport UserService from \"./services/UserService\"\nimport moment from \"moment\"\nimport {DataChart} from \"./DataChart\"\nexport const DataViewDate = (props) => { \n    const [loading, setLoading] = useState(false);\n    const [mornTimes, setMornTimes] = useState([]);\n    const [mornCounts, setMornCounts] = useState([]);\n    const [afternoonTimes, setAfternoonTimes] = useState([]);\n    const [afternoonCounts, setAfternoonCounts] = useState([]);\n    const [morn, setMorn] = useState(false);\n\n    const toggleSwitch = () => {\n      setMorn(!morn);\n    };\n  \n\n  useEffect(() => {\n    setLoading(true)\n    // api call to get most recent\n    let date = moment(props.date).format(\"YYYY-MM-DD\")\n    UserService.getClassDataOnDate(date).then(res=>{\n        let info = res.data[0].rows\n\n        // process info \n        let processedInfoMorning = [];\n        let processedInfoAfternoon = [];\n        for (let i=0; i < info.length; i++) {\n          let currHour = moment(info[i].timeof, \"HH:mm:ss\").format(\"HH\");\n          let data = {time: moment(info[i].timeof, \"HH:mm:ss\").format(\"hh:mm A\"), numChildren: info[i].numemu+info[i].numkang+info[i].numkoala+info[i].numkook}\n          if (currHour < 12) {\n            processedInfoMorning.push(data);\n          }\n          else {\n            processedInfoAfternoon.push(data);\n          }\n        }\n        setMornTimes(processedInfoMorning.map(i=>i.time));\n        setMornCounts(processedInfoMorning.map(i=>i.numChildren));\n        setAfternoonTimes(processedInfoAfternoon.map(i=>i.time));\n        setAfternoonCounts(processedInfoAfternoon.map(i=>i.numChildren));\n    }).catch(err=>console.log(err))\n}, [props])\n\nreturn(<View>\n    \n    <Text style={styles.titleText}>Data for {moment(props.date).format(\n    \"dddd, MMMM Do YYYY\"\n\n)}</Text>\n{morn ? <DataChart x={mornTimes} y={mornCounts} title={\"Morning\"}/>\n\n: <DataChart x={afternoonTimes} y={afternoonCounts} title={\"Afternoon\"}/>\n}\n<Switch\ntrackColor={{ false: \"#767577\", true: \"#81b0ff\" }}\nthumbColor={\"#f5dd4b\"}\nios_backgroundColor=\"#3e3e3e\"\nonValueChange={toggleSwitch}\nvalue={morn}\n/>\n\n</View>)\n    }\n\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: \"#f3f3f3\",\n      justifyContent: \"space-around\",\n      paddingLeft: \"2%\",\n      paddingRight: \"2%\",\n      paddingTop: \"3%\",\n  \n    },titleText: {\n      fontFamily: \"mainFont\",\n      fontSize: 25,\n      marginBottom: \"2%\",\n      alignSelf: \"center\",\n    },\n    lottie: {\n      width: 100,\n      height: 100\n    },\n    topPanel: {\n      flex: 0.15,\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      paddingLeft: \"2%\",\n    },\n    text: {\n      fontFamily: \"mainFont\",\n      fontSize: 30,\n      marginBottom: \"5%\",\n    },\n    stat: {\n      flex: 1,\n      flexDirection: \"column\",\n      fontFamily: \"mainFont\",\n    },\n    widget: {\n      backgroundColor: \"#f8f8f8\",\n      width: \"30%\",\n      height: \"100%\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      textAlign: \"center\",\n      backgroundColor: \"white\",\n      borderRadius: 40,\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 12,\n      },\n      marginBottom: \"5%\",\n      shadowOpacity: 0.58,\n      shadowRadius: 16.0,\n      paddingLeft: \"2%\",\n      elevation: 24,\n    },\n  });\n  "]},"metadata":{},"sourceType":"module"}
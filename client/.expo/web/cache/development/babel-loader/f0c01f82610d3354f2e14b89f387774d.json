{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/clairelivingstone/Desktop/ratio-tracker/client/StaffDirectory/DiplomaInfo.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport UserService from \"../services/UserService\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-native-fontawesome\";\nimport { faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { ButtonAll } from \"../ButtonAll\";\nimport AnimatedLoader from \"react-native-animated-loader\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { useFocusEffect } from '@react-navigation/native';\nexport var DiplomaInfo = function DiplomaInfo(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      removing = _useState2[0],\n      setRemoving = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      staffList = _useState4[0],\n      setStaffList = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var isFocused = useIsFocused();\n\n  var sorted = function sorted(staffObjectList) {\n    staffObjectList.sort(function (a, b) {\n      var x = a.firstname[0].toLowerCase();\n      var y = b.lastname[0].toLowerCase();\n\n      if (x < y) {\n        return -1;\n      }\n\n      if (x > y) {\n        return 1;\n      }\n\n      return 0;\n    });\n    return staffObjectList;\n  };\n\n  useEffect(function () {\n    if (props.route && props.route.params && props.route.params.cancelled) {\n      return;\n    }\n\n    if (isFocused) {\n      setLoading(true);\n      UserService.getAllStaff().then(function (res) {\n        setStaffList(res.data);\n        setLoading(false);\n      }).catch(function (err) {\n        setLoading(false);\n        console.log(err);\n      });\n    }\n  }, [isFocused]);\n\n  var handleRemove = function handleRemove(staffId) {\n    return _regeneratorRuntime.async(function handleRemove$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            UserService.deleteStaff(staffId).then(function (res) {\n              UserService.getAllStaff().then(function (res) {\n                setStaffList(res.data);\n                setLoading(false);\n              }).catch(function (err) {\n                setLoading(false);\n                console.log(err);\n              });\n            }).catch(function (err) {\n              setLoading(false);\n              console.log(err);\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    if (!Array.isArray(staffList) || staffList.length === 0) {\n      setRemoving(false);\n    }\n  }, [staffList]);\n\n  var staffToText = function staffToText() {\n    return React.createElement(View, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, sorted(staffList).map(function (staff, index) {\n      return React.createElement(View, {\n        key: index,\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-around\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.staffInfoContainer,\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.boldText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, \" \", staff.firstname, \" \", staff.lastname), React.createElement(Text, {\n        style: styles.text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, staff.hasdiploma ? \"Diploma/Working Towards\" : \"No diploma\")), removing ? React.createElement(View, {\n        style: {\n          alignItems: \"center\",\n          paddingLeft: \"5%\",\n          display: \"flex\",\n          justifyContent: \"space-around\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return handleRemove(staff.staffid);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faMinusCircle,\n        size: 20,\n        color: \"red\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }))) : null);\n    }));\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, loading && React.createElement(AnimatedLoader, {\n    visible: true,\n    overlayColor: \"rgba(255,255,255,0.75)\",\n    source: require(\"./loader.json\"),\n    animationStyle: styles.lottie,\n    speed: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }), Array.isArray(staffList) && staffList.length !== 0 && React.createElement(Text, {\n    style: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, \"Little Scribblers Staff Directory\"), !Array.isArray(staffList) || staffList.length === 0 && React.createElement(Text, {\n    style: {\n      alignSelf: \"center\",\n      fontFamily: \"mainFont\",\n      fontSize: 20,\n      marginBottom: \"1%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"There are no staff in the directory.\"), React.createElement(View, {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignSelf: \"center\",\n      justifyContent: \"space-between\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 3\n    }\n  }, React.createElement(ButtonAll, {\n    handlePress: function handlePress() {\n      return props.navigation.navigate(\"NewStaffForm\");\n    },\n    title: \"Add Staff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 1\n    }\n  }), Array.isArray(staffList) && staffList.length !== 0 && !removing && React.createElement(ButtonAll, {\n    color: \"red\",\n    handlePress: function handlePress() {\n      return setRemoving(true);\n    },\n    title: \"Remove Staff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 2\n    }\n  }), Array.isArray(staffList) && staffList.length !== 0 && removing && React.createElement(ButtonAll, {\n    color: \"red\",\n    handlePress: function handlePress() {\n      setRemoving(false);\n    },\n    title: \"Stop Removing\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  })), Array.isArray(staffList) && staffList.length !== 0 ? React.createElement(View, {\n    style: styles.infoContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, staffToText()) : null);\n};\nvar styles = StyleSheet.create({\n  container: {\n    padding: \"5%\",\n    flex: 1,\n    justifyContent: \"space-evenly\",\n    backgroundColor: \"#FAFAFA\"\n  },\n  infoContainer: {\n    flex: 1\n  },\n  staffInfoContainer: {\n    borderRadius: 5,\n    backgroundColor: \"white\",\n    justifyContent: \"space-between\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: \"2%\",\n    elevation: 5\n  },\n  text: {\n    fontFamily: \"mainFont\",\n    fontSize: 20,\n    marginBottom: \"1%\"\n  },\n  header: {\n    alignSelf: \"center\",\n    fontFamily: \"mainFont\",\n    fontSize: 24,\n    marginBottom: \"3%\"\n  },\n  lottie: {\n    width: 100,\n    height: 100\n  },\n  inputContainer: {\n    flex: 2,\n    width: \"100%\",\n    marginTop: \"5%\"\n  },\n  button: {\n    width: \"30%\",\n    backgroundColor: \"white\",\n    fontFamily: \"mainFont\",\n    borderRadius: 20,\n    marginTop: \"2%\",\n    fontSize: 20,\n    color: \"black\",\n    justifyContent: \"center\",\n    textAlign: \"center\"\n  },\n  label: {\n    margin: 8\n  },\n  boldText: {\n    fontWeight: \"bold\",\n    fontFamily: \"mainFont\",\n    fontSize: 22,\n    marginBottom: \"1%\"\n  },\n  emojiContainer: {\n    flexDirection: \"row\"\n  }\n});","map":{"version":3,"sources":["/Users/clairelivingstone/Desktop/ratio-tracker/client/StaffDirectory/DiplomaInfo.js"],"names":["React","useState","useEffect","UserService","FontAwesomeIcon","faMinusCircle","ButtonAll","AnimatedLoader","useIsFocused","useFocusEffect","DiplomaInfo","props","removing","setRemoving","staffList","setStaffList","loading","setLoading","isFocused","sorted","staffObjectList","sort","a","b","x","firstname","toLowerCase","y","lastname","route","params","cancelled","getAllStaff","then","res","data","catch","err","console","log","handleRemove","staffId","deleteStaff","Array","isArray","length","staffToText","styles","container","map","staff","index","display","flexDirection","justifyContent","staffInfoContainer","boldText","text","hasdiploma","alignItems","paddingLeft","staffid","require","lottie","header","alignSelf","fontFamily","fontSize","marginBottom","navigation","navigate","infoContainer","StyleSheet","create","padding","flex","backgroundColor","borderRadius","width","elevation","height","inputContainer","marginTop","button","color","textAlign","label","margin","fontWeight","emojiContainer"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP;;;;;AAOA,SAASC,eAAT,QAAgC,uCAAhC;AACA,SAASC,aAAT,QAA8B,mCAA9B;AACA,SAASC,SAAT;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAASC,YAAT,QAA6B,0BAA7B;AACA,SAASC,cAAT,QAA+B,0BAA/B;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAAA,kBACJV,QAAQ,CAAC,KAAD,CADJ;AAAA;AAAA,MAC7BW,QAD6B;AAAA,MACnBC,WADmB;;AAAA,mBAEFZ,QAAQ,CAAC,EAAD,CAFN;AAAA;AAAA,MAE7Ba,SAF6B;AAAA,MAElBC,YAFkB;;AAAA,mBAGNd,QAAQ,CAAC,KAAD,CAHF;AAAA;AAAA,MAG7Be,OAH6B;AAAA,MAGpBC,UAHoB;;AAIpC,MAAMC,SAAS,GAAGV,YAAY,EAA9B;;AAEA,MAAMW,MAAM,GAAG,SAATA,MAAS,CAACC,eAAD,EAAqB;AAClCA,IAAAA,eAAe,CAACC,IAAhB,CAAqB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAC7B,UAAIC,CAAC,GAAGF,CAAC,CAACG,SAAF,CAAY,CAAZ,EAAeC,WAAf,EAAR;AACA,UAAIC,CAAC,GAAGJ,CAAC,CAACK,QAAF,CAAW,CAAX,EAAcF,WAAd,EAAR;;AACA,UAAIF,CAAC,GAAGG,CAAR,EAAW;AACT,eAAO,CAAC,CAAR;AACD;;AACD,UAAIH,CAAC,GAAGG,CAAR,EAAW;AACT,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAVD;AAWA,WAAOP,eAAP;AACD,GAbD;;AAeAlB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIS,KAAK,CAACkB,KAAN,IAAelB,KAAK,CAACkB,KAAN,CAAYC,MAA3B,IAAqCnB,KAAK,CAACkB,KAAN,CAAYC,MAAZ,CAAmBC,SAA5D,EAAuE;AACrE;AACD;;AAED,QAAIb,SAAJ,EAAe;AACbD,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAd,MAAAA,WAAW,CAAC6B,WAAZ,GAA0BC,IAA1B,CAA+B,UAAAC,GAAG,EAAE;AAClCnB,QAAAA,YAAY,CAACmB,GAAG,CAACC,IAAL,CAAZ;AACAlB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAHD,EAGGmB,KAHH,CAGS,UAAAC,GAAG,EAAE;AAACpB,QAAAA,UAAU,CAAC,KAAD,CAAV;AAAmBqB,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,OAHnD;AAID;AAEF,GAbQ,EAaN,CAACnB,SAAD,CAbM,CAAT;;AAeA,MAAMsB,YAAY,GAAG,SAAfA,YAAe,CAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AACnBxB,YAAAA,UAAU,CAAC,IAAD,CAAV;AACAd,YAAAA,WAAW,CAACuC,WAAZ,CAAwBD,OAAxB,EAAiCR,IAAjC,CAAsC,UAAAC,GAAG,EAAI;AAC3C/B,cAAAA,WAAW,CAAC6B,WAAZ,GAA0BC,IAA1B,CAA+B,UAAAC,GAAG,EAAE;AAClCnB,gBAAAA,YAAY,CAACmB,GAAG,CAACC,IAAL,CAAZ;AACAlB,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACD,eAHD,EAGGmB,KAHH,CAGS,UAAAC,GAAG,EAAE;AAACpB,gBAAAA,UAAU,CAAC,KAAD,CAAV;AAAmBqB,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,eAHnD;AAID,aALD,EAKGD,KALH,CAKS,UAAAC,GAAG,EAAE;AAACpB,cAAAA,UAAU,CAAC,KAAD,CAAV;AAAmBqB,cAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,aALnD;;AAFmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAUAnC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACyC,KAAK,CAACC,OAAN,CAAc9B,SAAd,CAAD,IAA6BA,SAAS,CAAC+B,MAAV,KAAqB,CAAtD,EAAyD;AACvDhC,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD;AACF,GAJQ,EAIN,CAACC,SAAD,CAJM,CAAT;;AAOA,MAAMgC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,WACA,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC7B,MAAM,CAACL,SAAD,CAAN,CAAkBmC,GAAlB,CAAsB,UAACC,KAAD,EAAQC,KAAR;AAAA,aACrB,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEA,KAAX;AAAkB,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAC,MAAT;AAAiBC,UAAAA,aAAa,EAAE,KAAhC;AAAuCC,UAAAA,cAAc,EAAE;AAAvD,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEP,MAAM,CAACQ,kBAApB;AAAwC,QAAA,GAAG,EAAEJ,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEJ,MAAM,CAACS,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,EAEGN,KAAK,CAACzB,SAFT,OAEqByB,KAAK,CAACtB,QAF3B,CADF,EAKE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEmB,MAAM,CAACU,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCP,KAAK,CAACQ,UAAN,GAAmB,yBAAnB,GAA+C,YADhD,CALF,CADA,EAYC9C,QAAQ,GACP,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAC+C,UAAAA,UAAU,EAAE,QAAb;AAAuBC,UAAAA,WAAW,EAAE,IAApC;AAA0CR,UAAAA,OAAO,EAAE,MAAnD;AAA2DE,UAAAA,cAAc,EAAE;AAA3E,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE;AAAA,iBAAMd,YAAY,CAACU,KAAK,CAACW,OAAP,CAAlB;AAAA,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,eAAD;AACE,QAAA,IAAI,EAAExD,aADR;AAEE,QAAA,IAAI,EAAE,EAFR;AAGE,QAAA,KAAK,EAAE,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFA,CADO,GAWL,IAvBJ,CADqB;AAAA,KAAtB,CAFD,CADA;AAkCD,GAnCD;;AAqCA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE0C,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGhC,OAAO,IAAI,oBAAC,cAAD;AACV,IAAA,OAAO,EAAE,IADC;AAEV,IAAA,YAAY,EAAC,wBAFH;AAGV,IAAA,MAAM,EAAE8C,OAAO,iBAHL;AAIV,IAAA,cAAc,EAAEf,MAAM,CAACgB,MAJb;AAKV,IAAA,KAAK,EAAE,CALG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFd,EAUHpB,KAAK,CAACC,OAAN,CAAc9B,SAAd,KACCA,SAAS,CAAC+B,MAAV,KAAqB,CADtB,IAC2B,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEE,MAAM,CAACiB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAXxB,EAcH,CAACrB,KAAK,CAACC,OAAN,CAAc9B,SAAd,CAAD,IACQA,SAAS,CAAC+B,MAAV,KAAqB,CAArB,IACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACoB,MAAAA,SAAS,EAAC,QAAX;AACbC,MAAAA,UAAU,EAAE,UADC;AAEbC,MAAAA,QAAQ,EAAE,EAFG;AAGbC,MAAAA,YAAY,EAAE;AAHD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAhBN,EAuBF,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAChB,MAAAA,OAAO,EAAC,MAAT;AAAiBC,MAAAA,aAAa,EAAE,KAAhC;AAAuCY,MAAAA,SAAS,EAAE,QAAlD;AAA4DX,MAAAA,cAAc,EAAE;AAA5E,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEF,oBAAC,SAAD;AAAW,IAAA,WAAW,EAAE;AAAA,aAAM3C,KAAK,CAAC0D,UAAN,CAAiBC,QAAjB,CAA0B,cAA1B,CAAN;AAAA,KAAxB;AAAyE,IAAA,KAAK,EAAC,WAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFE,EAGD3B,KAAK,CAACC,OAAN,CAAc9B,SAAd,KAA4BA,SAAS,CAAC+B,MAAV,KAAqB,CAAjD,IAAsD,CAACjC,QAAvD,IACA,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,KAAjB;AAAuB,IAAA,WAAW,EAAE;AAAA,aAAMC,WAAW,CAAC,IAAD,CAAjB;AAAA,KAApC;AAA6D,IAAA,KAAK,EAAC,cAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJC,EAMD8B,KAAK,CAACC,OAAN,CAAc9B,SAAd,KACOA,SAAS,CAAC+B,MAAV,KAAqB,CAD5B,IAEOjC,QAFP,IAGS,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,KADR;AAEE,IAAA,WAAW,EAAE,uBAAM;AACjBC,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD,KAJH;AAKE,IAAA,KAAK,EAAC,eALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATR,CAvBE,EAiDG8B,KAAK,CAACC,OAAN,CAAc9B,SAAd,KAA4BA,SAAS,CAAC+B,MAAV,KAAqB,CAAjD,GAEC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEE,MAAM,CAACwB,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCzB,WAAW,EAA/C,CAFD,GAGC,IApDJ,CADF;AA0DG,CApJE;AAsJP,IAAMC,MAAM,GAAGyB,UAAU,CAACC,MAAX,CAAkB;AAC/BzB,EAAAA,SAAS,EAAE;AACT0B,IAAAA,OAAO,EAAE,IADA;AAETC,IAAAA,IAAI,EAAE,CAFG;AAGTrB,IAAAA,cAAc,EAAE,cAHP;AAITsB,IAAAA,eAAe,EAAE;AAJR,GADoB;AAO/BL,EAAAA,aAAa,EAAE;AACbI,IAAAA,IAAI,EAAE;AADO,GAPgB;AAU/BpB,EAAAA,kBAAkB,EAAE;AAClBsB,IAAAA,YAAY,EAAE,CADI;AAElBD,IAAAA,eAAe,EAAE,OAFC;AAGlBtB,IAAAA,cAAc,EAAE,eAHE;AAIlBD,IAAAA,aAAa,EAAE,KAJG;AAKlBM,IAAAA,UAAU,EAAE,QALM;AAMlBmB,IAAAA,KAAK,EAAE,MANW;AAOlBJ,IAAAA,OAAO,EAAE,IAPS;AAQlBK,IAAAA,SAAS,EAAE;AARO,GAVW;AAoB/BtB,EAAAA,IAAI,EAAE;AACJS,IAAAA,UAAU,EAAE,UADR;AAEJC,IAAAA,QAAQ,EAAE,EAFN;AAGJC,IAAAA,YAAY,EAAE;AAHV,GApByB;AAyB/BJ,EAAAA,MAAM,EAAE;AACNC,IAAAA,SAAS,EAAE,QADL;AAENC,IAAAA,UAAU,EAAE,UAFN;AAGNC,IAAAA,QAAQ,EAAE,EAHJ;AAINC,IAAAA,YAAY,EAAE;AAJR,GAzBuB;AA+B/BL,EAAAA,MAAM,EAAE;AACNe,IAAAA,KAAK,EAAE,GADD;AAENE,IAAAA,MAAM,EAAE;AAFF,GA/BuB;AAmC/BC,EAAAA,cAAc,EAAE;AACdN,IAAAA,IAAI,EAAE,CADQ;AAEdG,IAAAA,KAAK,EAAE,MAFO;AAGdI,IAAAA,SAAS,EAAE;AAHG,GAnCe;AAwC/BC,EAAAA,MAAM,EAAE;AACNL,IAAAA,KAAK,EAAE,KADD;AAENF,IAAAA,eAAe,EAAE,OAFX;AAGNV,IAAAA,UAAU,EAAE,UAHN;AAINW,IAAAA,YAAY,EAAE,EAJR;AAKNK,IAAAA,SAAS,EAAE,IALL;AAMNf,IAAAA,QAAQ,EAAE,EANJ;AAONiB,IAAAA,KAAK,EAAE,OAPD;AAQN9B,IAAAA,cAAc,EAAE,QARV;AASN+B,IAAAA,SAAS,EAAE;AATL,GAxCuB;AAmD/BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE;AADH,GAnDwB;AAsD/B/B,EAAAA,QAAQ,EAAE;AACRgC,IAAAA,UAAU,EAAE,MADJ;AAERtB,IAAAA,UAAU,EAAE,UAFJ;AAGRC,IAAAA,QAAQ,EAAE,EAHF;AAIRC,IAAAA,YAAY,EAAE;AAJN,GAtDqB;AA4D/BqB,EAAAA,cAAc,EAAE;AACdpC,IAAAA,aAAa,EAAE;AADD;AA5De,CAAlB,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport UserService from \"../services/UserService\"\nimport {\n  View,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n} from \"react-native\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-native-fontawesome\";\nimport { faMinusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { ButtonAll } from \"../ButtonAll\";\nimport AnimatedLoader from \"react-native-animated-loader\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { useFocusEffect } from '@react-navigation/native';\n\nexport const DiplomaInfo = (props) => {\n  const [removing, setRemoving] = useState(false);\n  const [staffList, setStaffList] = useState([]);\n  const [loading, setLoading] = useState(false)\n  const isFocused = useIsFocused();\n\n  const sorted = (staffObjectList) => {\n    staffObjectList.sort((a, b) => {\n      let x = a.firstname[0].toLowerCase();\n      let y = b.lastname[0].toLowerCase();\n      if (x < y) {\n        return -1;\n      }\n      if (x > y) {\n        return 1;\n      }\n      return 0;\n    });\n    return staffObjectList;\n  };\n                                                                                                                                                                                                                                                                                                                                                                                                     \n  useEffect(() => {\n    if (props.route && props.route.params && props.route.params.cancelled) {\n      return;\n    }\n\n    if (isFocused) { \n      setLoading(true);\n      UserService.getAllStaff().then(res=>{\n        setStaffList(res.data)\n        setLoading(false)\n      }).catch(err=>{setLoading(false); console.log(err)})\n    }\n\n  }, [isFocused]);\n\n  const handleRemove = async (staffId) => {\n    setLoading(true);\n    UserService.deleteStaff(staffId).then(res => {\n      UserService.getAllStaff().then(res=>{\n        setStaffList(res.data)\n        setLoading(false)\n      }).catch(err=>{setLoading(false); console.log(err)})\n    }).catch(err=>{setLoading(false); console.log(err)})\n  }\n\n  useEffect(() => {\n    if (!Array.isArray(staffList) || staffList.length === 0) {\n      setRemoving(false);\n    }\n  }, [staffList]);\n\n\n  const staffToText = () => {\n    return (\n    <View style={styles.container}>        \n\n    {sorted(staffList).map((staff, index) => (\n      <View key={index} style={{display:\"flex\", flexDirection: \"row\", justifyContent: \"space-around\"}}>\n      <View style={styles.staffInfoContainer} key={index}>\n        <Text style={styles.boldText}>\n          {\" \"}\n          {staff.firstname} {staff.lastname} \n        </Text>\n        <Text style={styles.text}>\n        {staff.hasdiploma ? \"Diploma/Working Towards\" : \"No diploma\"}\n\n        </Text>\n        \n      </View>\n      {removing ? (\n        <View style={{alignItems: \"center\", paddingLeft: \"5%\", display: \"flex\", justifyContent: \"space-around\"}}>\n          \n        <TouchableOpacity onPress={() => handleRemove(staff.staffid)}>\n          <FontAwesomeIcon\n            icon={faMinusCircle}\n            size={20}\n            color={\"red\"}\n          ></FontAwesomeIcon>\n        </TouchableOpacity>\n        </View>\n      ) : null}\n                </View>\n\n      \n    ))}\n\n    </View> )\n  };\n\n  return (\n    <View style={styles.container}>\n\n      {loading && <AnimatedLoader\n        visible={true}\n        overlayColor=\"rgba(255,255,255,0.75)\"\n        source={require(\"./loader.json\")}\n        animationStyle={styles.lottie}\n        speed={1} /> }\n        \n\n{Array.isArray(staffList) &&\n  staffList.length !== 0 && <Text style={styles.header}>Little Scribblers Staff Directory</Text> }\n\n        \n{!Array.isArray(staffList) ||\n        (staffList.length === 0 && (\n          <Text style={{alignSelf:\"center\", \n          fontFamily: \"mainFont\",\n          fontSize: 20,\n          marginBottom: \"1%\"}}>There are no staff in the directory.</Text>\n        ))}\n\n\n  <View style={{display:\"flex\", flexDirection: \"row\", alignSelf: \"center\", justifyContent: \"space-between\"}}>\n\n<ButtonAll handlePress={() => props.navigation.navigate(\"NewStaffForm\")} title=\"Add Staff\" />\n{Array.isArray(staffList) && staffList.length !== 0 && !removing &&\n <ButtonAll color=\"red\" handlePress={() => setRemoving(true)} title=\"Remove Staff\" />}\n\n{Array.isArray(staffList) &&\n        staffList.length !== 0 &&\n        removing && (\n          <ButtonAll\n            color=\"red\" \n            handlePress={() => {\n              setRemoving(false);\n            }}\n            title=\"Stop Removing\"\n          />\n        )}\n\n</View>\n\n\n\n\n\n\n\n      {Array.isArray(staffList) && staffList.length !== 0\n        ? \n        <View style={styles.infoContainer}>{staffToText()}</View>\n      : null}\n    \n      \n     </View>\n  )\n    };\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: \"5%\",\n    flex: 1,\n    justifyContent: \"space-evenly\",\n    backgroundColor: \"#FAFAFA\",\n  },\n  infoContainer: {\n    flex: 1,\n  },\n  staffInfoContainer: {\n    borderRadius: 5,\n    backgroundColor: \"white\",\n    justifyContent: \"space-between\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: \"2%\",\n    elevation: 5,\n  },\n  text: {\n    fontFamily: \"mainFont\",\n    fontSize: 20,\n    marginBottom: \"1%\",\n  },\n  header: {\n    alignSelf: \"center\",\n    fontFamily: \"mainFont\",\n    fontSize: 24,\n    marginBottom: \"3%\",\n  },\n  lottie: {\n    width: 100,\n    height: 100\n  },\n  inputContainer: {\n    flex: 2,\n    width: \"100%\",\n    marginTop: \"5%\",\n  },\n  button: {\n    width: \"30%\",\n    backgroundColor: \"white\",\n    fontFamily: \"mainFont\",\n    borderRadius: 20,\n    marginTop: \"2%\",\n    fontSize: 20,\n    color: \"black\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  },\n  label: {\n    margin: 8,\n  },\n  boldText: {\n    fontWeight: \"bold\",\n    fontFamily: \"mainFont\",\n    fontSize: 22,\n    marginBottom: \"1%\",\n  },\n  emojiContainer: {\n    flexDirection: \"row\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}
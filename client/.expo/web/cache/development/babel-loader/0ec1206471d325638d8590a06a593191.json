{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/clairelivingstone/Desktop/ratio-tracker/client/DataViewDate.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport UserService from \"./services/UserService\";\nimport moment from \"moment\";\nimport { DataChart } from \"./DataChart\";\nexport var DataViewDate = function DataViewDate(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      times = _useState4[0],\n      setTimes = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      counts = _useState6[0],\n      setCounts = _useState6[1];\n\n  useEffect(function () {\n    setLoading(true);\n    var date = moment(props.date).format(\"YYYY-MM-DD\");\n    UserService.getClassDataOnDate(date).then(function (res) {\n      var info = res.data[0].rows;\n      var processedInfoMorning = info.map(function (i) {\n        var currHour = moment(i.timeof, \"HH:mm:ss\").format(\"HH\");\n\n        if (currHour < 12) {\n          {\n            return {\n              time: moment(i.timeof, \"HH:mm:ss\").format(\"hh:mm A\"),\n              numChildren: i.numemu + i.numkang + i.numkoala + i.numkook\n            };\n          }\n        }\n      });\n      console.log(processedInfoMorning);\n      setTimes(times);\n      setCounts(counts);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, [props]);\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, \"Data for \", moment(props.date).format(\"dddd, MMMM Do YYYY\")), React.createElement(DataChart, {\n    x: times,\n    y: counts,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 1\n    }\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#f3f3f3\",\n    justifyContent: \"space-around\",\n    paddingLeft: \"2%\",\n    paddingRight: \"2%\",\n    paddingTop: \"3%\"\n  },\n  titleText: {\n    fontFamily: \"mainFont\",\n    fontSize: 25,\n    marginBottom: \"2%\",\n    alignSelf: \"center\"\n  },\n  lottie: {\n    width: 100,\n    height: 100\n  },\n  topPanel: {\n    flex: 0.15,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: \"2%\"\n  },\n  text: {\n    fontFamily: \"mainFont\",\n    fontSize: 30,\n    marginBottom: \"5%\"\n  },\n  stat: {\n    flex: 1,\n    flexDirection: \"column\",\n    fontFamily: \"mainFont\"\n  },\n  widget: {\n    backgroundColor: \"#f8f8f8\",\n    width: \"30%\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    backgroundColor: \"white\",\n    borderRadius: 40,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 12\n    },\n    marginBottom: \"5%\",\n    shadowOpacity: 0.58,\n    shadowRadius: 16.0,\n    paddingLeft: \"2%\",\n    elevation: 24\n  }\n});","map":{"version":3,"sources":["/Users/clairelivingstone/Desktop/ratio-tracker/client/DataViewDate.js"],"names":["React","useState","useEffect","AsyncStorage","UserService","moment","DataChart","DataViewDate","props","loading","setLoading","times","setTimes","counts","setCounts","date","format","getClassDataOnDate","then","res","info","data","rows","processedInfoMorning","map","i","currHour","timeof","time","numChildren","numemu","numkang","numkoala","numkook","console","log","catch","err","styles","titleText","StyleSheet","create","container","flex","backgroundColor","justifyContent","paddingLeft","paddingRight","paddingTop","fontFamily","fontSize","marginBottom","alignSelf","lottie","width","height","topPanel","flexDirection","text","stat","widget","alignItems","textAlign","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport {\n  StyleSheet,\n  Button,\n  View,\n  Text,\n} from \"react-native\";\nimport UserService from \"./services/UserService\"\nimport moment from \"moment\"\nimport {DataChart} from \"./DataChart\"\nexport const DataViewDate = (props) => { \n    const [loading, setLoading] = useState(false);\n    const [times, setTimes] = useState([]);\n    const [counts, setCounts] = useState([]);\n\n  useEffect(() => {\n    setLoading(true)\n    // api call to get most recent\n    let date = moment(props.date).format(\"YYYY-MM-DD\")\n    UserService.getClassDataOnDate(date).then(res=>{\n        let info = res.data[0].rows\n        let processedInfoMorning = info.map(i => \n          {\n            let currHour = moment(i.timeof, \"HH:mm:ss\").format(\"HH\");\n            if (currHour < 12) {\n              {return {time: moment(i.timeof, \"HH:mm:ss\").format(\"hh:mm A\"), numChildren: i.numemu+i.numkang+i.numkoala+i.numkook}}\n            }\n          }\n        )\n        console.log(processedInfoMorning);\n\n\n        // data for morning and afternoon \n\n\n        setTimes(times);\n        setCounts(counts)\n    }).catch(err=>console.log(err))\n}, [props])\n\nreturn(<View>\n    \n    <Text style={styles.titleText}>Data for {moment(props.date).format(\n    \"dddd, MMMM Do YYYY\"\n\n)}</Text>\n<DataChart x={times} y={counts}/>\n\n\n</View>)\n    }\n\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: \"#f3f3f3\",\n      justifyContent: \"space-around\",\n      paddingLeft: \"2%\",\n      paddingRight: \"2%\",\n      paddingTop: \"3%\",\n  \n    },titleText: {\n      fontFamily: \"mainFont\",\n      fontSize: 25,\n      marginBottom: \"2%\",\n      alignSelf: \"center\",\n    },\n    lottie: {\n      width: 100,\n      height: 100\n    },\n    topPanel: {\n      flex: 0.15,\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      paddingLeft: \"2%\",\n    },\n    text: {\n      fontFamily: \"mainFont\",\n      fontSize: 30,\n      marginBottom: \"5%\",\n    },\n    stat: {\n      flex: 1,\n      flexDirection: \"column\",\n      fontFamily: \"mainFont\",\n    },\n    widget: {\n      backgroundColor: \"#f8f8f8\",\n      width: \"30%\",\n      height: \"100%\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      textAlign: \"center\",\n      backgroundColor: \"white\",\n      borderRadius: 40,\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 12,\n      },\n      marginBottom: \"5%\",\n      shadowOpacity: 0.58,\n      shadowRadius: 16.0,\n      paddingLeft: \"2%\",\n      elevation: 24,\n    },\n  });\n  "]},"metadata":{},"sourceType":"module"}